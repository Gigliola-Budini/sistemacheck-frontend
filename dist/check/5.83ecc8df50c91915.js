"use strict";(self.webpackChunkvelzon=self.webpackChunkvelzon||[]).push([[5],{89005:(kt,Me,f)=>{f.r(Me),f.d(Me,{MapsModule:()=>Ot});var K=f(36895),we=f(60136),Pe=f(29388),oe=f(97685),je=f(74902),A=f(74165),m=f(43144),b=f(15671);function s(r,o,e,n){var l,i=arguments.length,a=i<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,e):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,o,e,n);else for(var p=r.length-1;p>=0;p--)(l=r[p])&&(a=(i<3?l(a):i>3?l(o,e,a):l(o,e))||a);return i>3&&a&&Object.defineProperty(o,e,a),a}function U(r,o){return function(e,n){o(e,n,r)}}function u(r,o){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(r,o)}function N(r,o,e,n){return new(e||(e=Promise))(function(a,l){function p(I){try{c(n.next(I))}catch(C){l(C)}}function g(I){try{c(n.throw(I))}catch(C){l(C)}}function c(I){I.done?a(I.value):function i(a){return a instanceof e?a:new e(function(l){l(a)})}(I.value).then(p,g)}c((n=n.apply(r,o||[])).next())})}var le,t=f(94650),T=f(34202),De=f(591),Ze=f(63527),ze=f(98723),xe=(f(8929),f(90725)),Ve=f(36787),Le=f(42247),Ue=f(56654),Ge=f(21086),$e=f(61737),Ye=f(61709),se=f(41177),Ke=function(){function r(o){(0,b.Z)(this,r),this.notifier=o}return(0,m.Z)(r,[{key:"call",value:function(e,n){var i=new Qe(e),a=n.subscribe(i);return a.add((0,se.ft)(this.notifier,new se.IY(i))),a}}]),r}(),Qe=function(r){(0,we.Z)(e,r);var o=(0,Pe.Z)(e);function e(){var n;return(0,b.Z)(this,e),(n=o.apply(this,arguments)).hasValue=!1,n}return(0,m.Z)(e,[{key:"_next",value:function(i){this.value=i,this.hasValue=!0}},{key:"notifyNext",value:function(){this.emitValue()}},{key:"notifyComplete",value:function(){this.emitValue()}},{key:"emitValue",value:function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}]),e}(se.Ds),J=f(87545),G=f(24850),Je=f(5154),ue=(f(75778),f(7625),f(1059)),et=f(31307),tt=f(82536),Te=["*"],R=function(){var r=(0,m.Z)(function o(){(0,b.Z)(this,o)});return r.\u0275fac=function(e){return new(e||r)},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r}(),M=function(){var r=function(){function o(e,n){var i=this;(0,b.Z)(this,o),this._loader=e,this._zone=n,this._map=new Promise(function(a){i._mapResolver=a})}return(0,m.Z)(o,[{key:"createMap",value:function(n,i){var a=this;return this._zone.runOutsideAngular(function(){return a._loader.load().then(function(){var l=new google.maps.Map(n,i);a._mapResolver(l)})})}},{key:"setMapOptions",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){i._map.then(function(a){a.setOptions(n)})})}},{key:"createMarker",value:function(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this._zone.runOutsideAngular(function(){return n._map.then(function(l){return a&&(i.map=l),new google.maps.Marker(i)})})}},{key:"createInfoWindow",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(){return new google.maps.InfoWindow(n)})})}},{key:"createCircle",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){return"string"==typeof n.strokePosition&&(n.strokePosition=google.maps.StrokePosition[n.strokePosition]),n.map=a,new google.maps.Circle(n)})})}},{key:"createRectangle",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){return n.map=a,new google.maps.Rectangle(n)})})}},{key:"createPolyline",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i.getNativeMap().then(function(a){var l=new google.maps.Polyline(n);return l.setMap(a),l})})}},{key:"createPolygon",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i.getNativeMap().then(function(a){var l=new google.maps.Polygon(n);return l.setMap(a),l})})}},{key:"createDataLayer",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){var l=new google.maps.Data(n);return l.setMap(a),l})})}},{key:"createTransitLayer",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){var l=new google.maps.TransitLayer;return l.setMap(n.visible?a:null),l})})}},{key:"createBicyclingLayer",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){var l=new google.maps.BicyclingLayer;return l.setMap(n.visible?a:null),l})})}},{key:"containsLocation",value:function(n,i){return google.maps.geometry.poly.containsLocation(n,i)}},{key:"subscribeToMapEvent",value:function(n){var i=this;return new T.y(function(a){i._map.then(function(l){l.addListener(n,function(p){i._zone.run(function(){return a.next(p)})})})})}},{key:"clearInstanceListeners",value:function(){var n=this;return this._zone.runOutsideAngular(function(){n._map.then(function(i){google.maps.event.clearInstanceListeners(i)})})}},{key:"setCenter",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){return a.setCenter(n)})})}},{key:"getZoom",value:function(){var n=this;return this._zone.runOutsideAngular(function(){return n._map.then(function(i){return i.getZoom()})})}},{key:"getBounds",value:function(){var n=this;return this._zone.runOutsideAngular(function(){return n._map.then(function(i){return i.getBounds()})})}},{key:"getMapTypeId",value:function(){var n=this;return this._zone.runOutsideAngular(function(){return n._map.then(function(i){return i.getMapTypeId()})})}},{key:"setZoom",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){return a.setZoom(n)})})}},{key:"getCenter",value:function(){var n=this;return this._zone.runOutsideAngular(function(){return n._map.then(function(i){return i.getCenter()})})}},{key:"panTo",value:function(n){var i=this;return this._zone.runOutsideAngular(function(){return i._map.then(function(a){return a.panTo(n)})})}},{key:"panBy",value:function(n,i){var a=this;return this._zone.runOutsideAngular(function(){return a._map.then(function(l){return l.panBy(n,i)})})}},{key:"fitBounds",value:function(n,i){var a=this;return this._zone.runOutsideAngular(function(){return a._map.then(function(l){return l.fitBounds(n,i)})})}},{key:"panToBounds",value:function(n,i){var a=this;return this._zone.runOutsideAngular(function(){return a._map.then(function(l){return l.panToBounds(n,i)})})}},{key:"getNativeMap",value:function(){return this._map}},{key:"triggerMapEvent",value:function(n){return this._map.then(function(i){return google.maps.event.trigger(i,n)})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(R),t.\u0275\u0275inject(t.NgZone))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[R,t.NgZone])],r)}(),$=function(){var r=function(){function o(e){(0,b.Z)(this,o),this._wrapper=e,this._layers=new Map}return(0,m.Z)(o,[{key:"addTransitLayer",value:function(n,i){var a=this._wrapper.createTransitLayer(i);this._layers.set(n,a)}},{key:"addBicyclingLayer",value:function(n,i){var a=this._wrapper.createBicyclingLayer(i);this._layers.set(n,a)}},{key:"deleteLayer",value:function(n){var i=this;return this._layers.get(n).then(function(a){a.setMap(null),i._layers.delete(n)})}},{key:"toggleLayerVisibility",value:function(n,i){var a=this;return this._layers.get(n).then(function(l){if(i.visible)return a._wrapper.getNativeMap().then(function(p){l.setMap(p)});l.setMap(null)})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M])],r)}(),X=function(){var r=function(){function o(e,n){(0,b.Z)(this,o),this._apiWrapper=e,this._zone=n,this._circles=new Map}return(0,m.Z)(o,[{key:"addCircle",value:function(n){this._circles.set(n,this._apiWrapper.createCircle({center:{lat:n.latitude,lng:n.longitude},clickable:n.clickable,draggable:n.draggable,editable:n.editable,fillColor:n.fillColor,fillOpacity:n.fillOpacity,radius:n.radius,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokePosition:n.strokePosition,strokeWeight:n.strokeWeight,visible:n.visible,zIndex:n.zIndex}))}},{key:"removeCircle",value:function(n){var i=this;return this._circles.get(n).then(function(a){a.setMap(null),i._circles.delete(n)})}},{key:"setOptions",value:function(n,i){return this._circles.get(n).then(function(a){"string"==typeof i.strokePosition&&(i.strokePosition=google.maps.StrokePosition[i.strokePosition]),a.setOptions(i)})}},{key:"getBounds",value:function(n){return this._circles.get(n).then(function(i){return i.getBounds()})}},{key:"getCenter",value:function(n){return this._circles.get(n).then(function(i){return i.getCenter()})}},{key:"getRadius",value:function(n){return this._circles.get(n).then(function(i){return i.getRadius()})}},{key:"setCenter",value:function(n){return this._circles.get(n).then(function(i){return i.setCenter({lat:n.latitude,lng:n.longitude})})}},{key:"setEditable",value:function(n){return this._circles.get(n).then(function(i){return i.setEditable(n.editable)})}},{key:"setDraggable",value:function(n){return this._circles.get(n).then(function(i){return i.setDraggable(n.draggable)})}},{key:"setVisible",value:function(n){return this._circles.get(n).then(function(i){return i.setVisible(n.visible)})}},{key:"setRadius",value:function(n){return this._circles.get(n).then(function(i){return i.setRadius(n.radius)})}},{key:"getNativeCircle",value:function(n){return this._circles.get(n)}},{key:"createEventObservable",value:function(n,i){var a=this;return new T.y(function(l){var p=null;return a._circles.get(i).then(function(g){p=g.addListener(n,function(c){return a._zone.run(function(){return l.next(c)})})}),function(){null!==p&&p.remove()}})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M,t.NgZone])],r)}(),y=le=function(){function r(o){(0,b.Z)(this,r),this._manager=o,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new t.EventEmitter,this.circleClick=new t.EventEmitter,this.circleDblClick=new t.EventEmitter,this.drag=new t.EventEmitter,this.dragEnd=new t.EventEmitter,this.dragStart=new t.EventEmitter,this.mouseDown=new t.EventEmitter,this.mouseMove=new t.EventEmitter,this.mouseOut=new t.EventEmitter,this.mouseOver=new t.EventEmitter,this.mouseUp=new t.EventEmitter,this.radiusChange=new t.EventEmitter,this.rightClick=new t.EventEmitter,this._circleAddedToManager=!1,this._eventSubscriptions=[]}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()}},{key:"ngOnChanges",value:function(e){!this._circleAddedToManager||((e.latitude||e.longitude)&&this._manager.setCenter(this),e.editable&&this._manager.setEditable(this),e.draggable&&this._manager.setDraggable(this),e.visible&&this._manager.setVisible(this),e.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(e))}},{key:"_updateCircleOptionsChanges",value:function(e){var n={},i=Object.keys(e).filter(function(a){return-1!==le._mapOptions.indexOf(a)});i.forEach(function(a){n[a]=e[a].currentValue}),i.length>0&&this._manager.setOptions(this,n)}},{key:"_registerEventListeners",value:function(){var e=this,n=new Map;n.set("center_changed",this.centerChange),n.set("click",this.circleClick),n.set("dblclick",this.circleDblClick),n.set("drag",this.drag),n.set("dragend",this.dragEnd),n.set("dragstart",this.dragStart),n.set("mousedown",this.mouseDown),n.set("mousemove",this.mouseMove),n.set("mouseout",this.mouseOut),n.set("mouseover",this.mouseOver),n.set("mouseup",this.mouseUp),n.set("radius_changed",this.radiusChange),n.set("rightclick",this.rightClick),n.forEach(function(i,a){e._eventSubscriptions.push(e._manager.createEventObservable(a,e).subscribe(function(l){switch(a){case"radius_changed":e._manager.getRadius(e).then(function(p){return i.emit(p)});break;case"center_changed":e._manager.getCenter(e).then(function(p){return i.emit({lat:p.lat(),lng:p.lng()})});break;default:i.emit({coords:{lat:l.latLng.lat(),lng:l.latLng.lng()}})}}))})}},{key:"ngOnDestroy",value:function(){this._eventSubscriptions.forEach(function(e){e.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeCircle(this)}},{key:"getBounds",value:function(){return this._manager.getBounds(this)}},{key:"getCenter",value:function(){return this._manager.getCenter(this)}}]),r}();y.\u0275fac=function(o){return new(o||y)(t.\u0275\u0275directiveInject(X))},y.\u0275dir=t.\u0275\u0275defineDirective({type:y,selectors:[["agm-circle"]],inputs:{clickable:"clickable",draggable:["circleDraggable","draggable"],editable:"editable",radius:"radius",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",latitude:"latitude",longitude:"longitude",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{centerChange:"centerChange",circleClick:"circleClick",circleDblClick:"circleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",radiusChange:"radiusChange",rightClick:"rightClick"},features:[t.\u0275\u0275NgOnChangesFeature]}),y._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],y.ctorParameters=function(){return[{type:X}]},s([(0,t.Input)(),u("design:type",Number)],y.prototype,"latitude",void 0),s([(0,t.Input)(),u("design:type",Number)],y.prototype,"longitude",void 0),s([(0,t.Input)(),u("design:type",Object)],y.prototype,"clickable",void 0),s([(0,t.Input)("circleDraggable"),u("design:type",Object)],y.prototype,"draggable",void 0),s([(0,t.Input)(),u("design:type",Object)],y.prototype,"editable",void 0),s([(0,t.Input)(),u("design:type",String)],y.prototype,"fillColor",void 0),s([(0,t.Input)(),u("design:type",Number)],y.prototype,"fillOpacity",void 0),s([(0,t.Input)(),u("design:type",Object)],y.prototype,"radius",void 0),s([(0,t.Input)(),u("design:type",String)],y.prototype,"strokeColor",void 0),s([(0,t.Input)(),u("design:type",Number)],y.prototype,"strokeOpacity",void 0),s([(0,t.Input)(),u("design:type",String)],y.prototype,"strokePosition",void 0),s([(0,t.Input)(),u("design:type",Object)],y.prototype,"strokeWeight",void 0),s([(0,t.Input)(),u("design:type",Object)],y.prototype,"visible",void 0),s([(0,t.Input)(),u("design:type",Number)],y.prototype,"zIndex",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"centerChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"circleClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"circleDblClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"drag",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"dragEnd",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"dragStart",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"mouseDown",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"mouseMove",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"mouseOut",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"mouseOver",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"mouseUp",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"radiusChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],y.prototype,"rightClick",void 0),y=le=s([u("design:paramtypes",[X])],y);var pe,Y=function(){var r=function(){function o(e,n){(0,b.Z)(this,o),this._wrapper=e,this._zone=n,this._layers=new Map}return(0,m.Z)(o,[{key:"addDataLayer",value:function(n){var i=this,a=this._wrapper.createDataLayer({style:n.style}).then(function(l){return n.geoJson&&i.getDataFeatures(l,n.geoJson).then(function(p){return l.features=p}),l});this._layers.set(n,a)}},{key:"deleteDataLayer",value:function(n){var i=this;this._layers.get(n).then(function(a){a.setMap(null),i._layers.delete(n)})}},{key:"updateGeoJson",value:function(n,i){var a=this;this._layers.get(n).then(function(l){l.forEach(function(p){l.remove(p);var g=l.features.indexOf(p,0);g>-1&&l.features.splice(g,1)}),a.getDataFeatures(l,i).then(function(p){return l.features=p})})}},{key:"setDataOptions",value:function(n,i){this._layers.get(n).then(function(a){a.setControlPosition(i.controlPosition),a.setControls(i.controls),a.setDrawingMode(i.drawingMode),a.setStyle(i.style)})}},{key:"createEventObservable",value:function(n,i){var a=this;return new T.y(function(l){a._layers.get(i).then(function(p){p.addListener(n,function(g){return a._zone.run(function(){return l.next(g)})})})})}},{key:"getDataFeatures",value:function(n,i){return new Promise(function(a,l){if("object"==typeof i)try{a(n.addGeoJson(i))}catch(g){l(g)}else"string"==typeof i?n.loadGeoJson(i,null,a):l("Impossible to extract features from geoJson: wrong argument type")})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M,t.NgZone])],r)}(),rt=0,S=pe=function(){function r(o){(0,b.Z)(this,r),this._manager=o,this._addedToManager=!1,this._id=(rt++).toString(),this._subscriptions=[],this.layerClick=new t.EventEmitter,this.geoJson=null}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())}},{key:"_addEventListeners",value:function(){var e=this;[{name:"click",handler:function(a){return e.layerClick.emit(a)}}].forEach(function(i){var a=e._manager.createEventObservable(i.name,e).subscribe(i.handler);e._subscriptions.push(a)})}},{key:"id",value:function(){return this._id}},{key:"toString",value:function(){return"AgmDataLayer-".concat(this._id.toString())}},{key:"ngOnDestroy",value:function(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"ngOnChanges",value:function(e){var n=this;if(this._addedToManager){var i=e.geoJson;i&&this._manager.updateGeoJson(this,i.currentValue);var a={};pe._dataOptionsAttributes.forEach(function(l){return a[l]=e.hasOwnProperty(l)?e[l].currentValue:n[l]}),this._manager.setDataOptions(this,a)}}}]),r}();S.\u0275fac=function(o){return new(o||S)(t.\u0275\u0275directiveInject(Y))},S.\u0275dir=t.\u0275\u0275defineDirective({type:S,selectors:[["agm-data-layer"]],inputs:{geoJson:"geoJson",style:"style"},outputs:{layerClick:"layerClick"},features:[t.\u0275\u0275NgOnChangesFeature]}),S._dataOptionsAttributes=["style"],S.ctorParameters=function(){return[{type:Y}]},s([(0,t.Output)(),u("design:type",t.EventEmitter)],S.prototype,"layerClick",void 0),s([(0,t.Input)(),u("design:type",Object)],S.prototype,"geoJson",void 0),s([(0,t.Input)(),u("design:type",Function)],S.prototype,"style",void 0),S=pe=s([u("design:paramtypes",[Y])],S);var ce,q=(0,m.Z)(function r(){(0,b.Z)(this,r)}),F=function(){var r=function(){function o(e){var n=this;(0,b.Z)(this,o),this._boundsChangeSampleTime$=new De.X(200),this._includeInBounds$=new De.X(new Map),this.bounds$=(0,Ze.D)(e.load()).pipe((0,Ye.VS)(function(){return n._includeInBounds$}),function He(r){return function(o){return o.lift(new Ke(r))}}(this._boundsChangeSampleTime$.pipe((0,J.w)(function(i){return(0,ze.H)(0,i)}))),(0,G.U)(function(i){return n._generateBounds(i)}),(0,Je.d)(1))}return(0,m.Z)(o,[{key:"_generateBounds",value:function(n){var i=new google.maps.LatLngBounds;return n.forEach(function(a){return i.extend(a)}),i}},{key:"addToBounds",value:function(n){var i=this._createIdentifier(n);if(!this._includeInBounds$.value.has(i)){var a=this._includeInBounds$.value;a.set(i,n),this._includeInBounds$.next(a)}}},{key:"removeFromBounds",value:function(n){var i=this._includeInBounds$.value;i.delete(this._createIdentifier(n)),this._includeInBounds$.next(i)}},{key:"changeFitBoundsChangeSampleTime",value:function(n){this._boundsChangeSampleTime$.next(n)}},{key:"getBounds$",value:function(){return this.bounds$}},{key:"_createIdentifier",value:function(n){return"".concat(n.lat,"+").concat(n.lng)}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(R))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[R])],r)}(),x=function(){var r=function(){function o(e,n){(0,b.Z)(this,o),this._mapsWrapper=e,this._zone=n,this._markers=new Map}return(0,m.Z)(o,[{key:"convertAnimation",value:function(n){return N(this,void 0,void 0,(0,A.Z)().mark(function i(){return(0,A.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(null!==n){l.next=4;break}return l.abrupt("return",null);case 4:return l.abrupt("return",this._mapsWrapper.getNativeMap().then(function(){return google.maps.Animation[n]}));case 5:case"end":return l.stop()}},i,this)}))}},{key:"deleteMarker",value:function(n){var i=this,a=this._markers.get(n);return null==a?Promise.resolve():a.then(function(l){return i._zone.run(function(){l.setMap(null),i._markers.delete(n)})})}},{key:"updateMarkerPosition",value:function(n){return this._markers.get(n).then(function(i){return i.setPosition({lat:n.latitude,lng:n.longitude})})}},{key:"updateTitle",value:function(n){return this._markers.get(n).then(function(i){return i.setTitle(n.title)})}},{key:"updateLabel",value:function(n){return this._markers.get(n).then(function(i){i.setLabel(n.label)})}},{key:"updateDraggable",value:function(n){return this._markers.get(n).then(function(i){return i.setDraggable(n.draggable)})}},{key:"updateIcon",value:function(n){return this._markers.get(n).then(function(i){return i.setIcon(n.iconUrl)})}},{key:"updateOpacity",value:function(n){return this._markers.get(n).then(function(i){return i.setOpacity(n.opacity)})}},{key:"updateVisible",value:function(n){return this._markers.get(n).then(function(i){return i.setVisible(n.visible)})}},{key:"updateZIndex",value:function(n){return this._markers.get(n).then(function(i){return i.setZIndex(n.zIndex)})}},{key:"updateClickable",value:function(n){return this._markers.get(n).then(function(i){return i.setClickable(n.clickable)})}},{key:"updateAnimation",value:function(n){return N(this,void 0,void 0,(0,A.Z)().mark(function i(){return(0,A.Z)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,this._markers.get(n);case 2:return p.t0=p.sent,p.next=6,this.convertAnimation(n.animation);case 6:p.t1=p.sent,p.t0.setAnimation.call(p.t0,p.t1);case 8:case"end":return p.stop()}},i,this)}))}},{key:"addMarker",value:function(n){var i=this,a=new Promise(function(l){return N(i,void 0,void 0,(0,A.Z)().mark(function p(){return(0,A.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.t0=this._mapsWrapper,c.t1={lat:n.latitude,lng:n.longitude},c.t2=n.label,c.t3=n.draggable,c.t4=n.iconUrl,c.t5=n.opacity,c.t6=n.visible,c.t7=n.zIndex,c.t8=n.title,c.t9=n.clickable,c.next=12,this.convertAnimation(n.animation);case 12:return c.t10=c.sent,c.t11={position:c.t1,label:c.t2,draggable:c.t3,icon:c.t4,opacity:c.t5,visible:c.t6,zIndex:c.t7,title:c.t8,clickable:c.t9,animation:c.t10},c.abrupt("return",c.t0.createMarker.call(c.t0,c.t11).then(l));case 15:case"end":return c.stop()}},p,this)}))});this._markers.set(n,a)}},{key:"getNativeMarker",value:function(n){return this._markers.get(n)}},{key:"createEventObservable",value:function(n,i){var a=this;return new T.y(function(l){a._markers.get(i).then(function(p){p.addListener(n,function(g){return a._zone.run(function(){return l.next(g)})})})})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M,t.NgZone])],r)}(),ee=function(){var r=function(){function o(e,n,i){(0,b.Z)(this,o),this._mapsWrapper=e,this._zone=n,this._markerManager=i,this._infoWindows=new Map}return(0,m.Z)(o,[{key:"deleteInfoWindow",value:function(n){var i=this,a=this._infoWindows.get(n);return null==a?Promise.resolve():a.then(function(l){return i._zone.run(function(){l.close(),i._infoWindows.delete(n)})})}},{key:"setPosition",value:function(n){return this._infoWindows.get(n).then(function(i){return i.setPosition({lat:n.latitude,lng:n.longitude})})}},{key:"setZIndex",value:function(n){return this._infoWindows.get(n).then(function(i){return i.setZIndex(n.zIndex)})}},{key:"open",value:function(n){var i=this;return this._infoWindows.get(n).then(function(a){return null!=n.hostMarker?i._markerManager.getNativeMarker(n.hostMarker).then(function(l){return i._mapsWrapper.getNativeMap().then(function(p){return a.open(p,l)})}):i._mapsWrapper.getNativeMap().then(function(l){return a.open(l)})})}},{key:"close",value:function(n){return this._infoWindows.get(n).then(function(i){return i.close()})}},{key:"setOptions",value:function(n,i){return this._infoWindows.get(n).then(function(a){return a.setOptions(i)})}},{key:"addInfoWindow",value:function(n){var i={content:n.content,maxWidth:n.maxWidth,zIndex:n.zIndex,disableAutoPan:n.disableAutoPan};"number"==typeof n.latitude&&"number"==typeof n.longitude&&(i.position={lat:n.latitude,lng:n.longitude});var a=this._mapsWrapper.createInfoWindow(i);this._infoWindows.set(n,a)}},{key:"createEventObservable",value:function(n,i){var a=this;return new T.y(function(l){a._infoWindows.get(i).then(function(p){p.addListener(n,function(g){return a._zone.run(function(){return l.next(g)})})})})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone),t.\u0275\u0275inject(x))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M,t.NgZone,x])],r)}(),at=0,w=ce=function(){function r(o,e){(0,b.Z)(this,r),this._infoWindowManager=o,this._el=e,this.isOpen=!1,this.infoWindowClose=new t.EventEmitter,this._infoWindowAddedToManager=!1,this._id=(at++).toString()}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}},{key:"ngOnChanges",value:function(e){!this._infoWindowAddedToManager||((e.latitude||e.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),e.zIndex&&this._infoWindowManager.setZIndex(this),e.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(e))}},{key:"_registerEventListeners",value:function(){var e=this;this._infoWindowManager.createEventObservable("closeclick",this).subscribe(function(){e.isOpen=!1,e.infoWindowClose.emit()})}},{key:"_updateOpenState",value:function(){this.isOpen?this.open():this.close()}},{key:"_setInfoWindowOptions",value:function(e){var n={};Object.keys(e).filter(function(a){return-1!==ce._infoWindowOptionsInputs.indexOf(a)}).forEach(function(a){n[a]=e[a].currentValue}),this._infoWindowManager.setOptions(this,n)}},{key:"open",value:function(){return this._infoWindowManager.open(this)}},{key:"close",value:function(){var e=this;return this._infoWindowManager.close(this).then(function(){e.infoWindowClose.emit()})}},{key:"id",value:function(){return this._id}},{key:"toString",value:function(){return"AgmInfoWindow-"+this._id.toString()}},{key:"ngOnDestroy",value:function(){this._infoWindowManager.deleteInfoWindow(this)}}]),r}();w.\u0275fac=function(o){return new(o||w)(t.\u0275\u0275directiveInject(ee),t.\u0275\u0275directiveInject(t.ElementRef))},w.\u0275cmp=t.\u0275\u0275defineComponent({type:w,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Te,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(o,e){1&o&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275projection(1),t.\u0275\u0275elementEnd())},encapsulation:2}),w._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],w.ctorParameters=function(){return[{type:ee},{type:t.ElementRef}]},s([(0,t.Input)(),u("design:type",Number)],w.prototype,"latitude",void 0),s([(0,t.Input)(),u("design:type",Number)],w.prototype,"longitude",void 0),s([(0,t.Input)(),u("design:type",Boolean)],w.prototype,"disableAutoPan",void 0),s([(0,t.Input)(),u("design:type",Number)],w.prototype,"zIndex",void 0),s([(0,t.Input)(),u("design:type",Number)],w.prototype,"maxWidth",void 0),s([(0,t.Input)(),u("design:type",Object)],w.prototype,"isOpen",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],w.prototype,"infoWindowClose",void 0),w=ce=s([u("design:paramtypes",[ee,t.ElementRef])],w);var de,te=function(){var r=function(){function o(e,n){(0,b.Z)(this,o),this._wrapper=e,this._zone=n,this._layers=new Map}return(0,m.Z)(o,[{key:"addKmlLayer",value:function(n){var i=this._wrapper.getNativeMap().then(function(a){return new google.maps.KmlLayer({clickable:n.clickable,map:a,preserveViewport:n.preserveViewport,screenOverlays:n.screenOverlays,suppressInfoWindows:n.suppressInfoWindows,url:n.url,zIndex:n.zIndex})});this._layers.set(n,i)}},{key:"setOptions",value:function(n,i){this._layers.get(n).then(function(a){return a.setOptions(i)})}},{key:"deleteKmlLayer",value:function(n){var i=this;this._layers.get(n).then(function(a){a.setMap(null),i._layers.delete(n)})}},{key:"createEventObservable",value:function(n,i){var a=this;return new T.y(function(l){a._layers.get(i).then(function(p){p.addListener(n,function(g){return a._zone.run(function(){return l.next(g)})})})})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M,t.NgZone])],r)}(),st=0,P=de=function(){function r(o){(0,b.Z)(this,r),this._manager=o,this._addedToManager=!1,this._id=(st++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new t.EventEmitter,this.defaultViewportChange=new t.EventEmitter,this.statusChange=new t.EventEmitter}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())}},{key:"ngOnChanges",value:function(e){!this._addedToManager||this._updatePolygonOptions(e)}},{key:"_updatePolygonOptions",value:function(e){var n=Object.keys(e).filter(function(i){return-1!==de._kmlLayerOptions.indexOf(i)}).reduce(function(i,a){return i[a]=e[a].currentValue,i},{});Object.keys(n).length>0&&this._manager.setOptions(this,n)}},{key:"_addEventListeners",value:function(){var e=this;[{name:"click",handler:function(a){return e.layerClick.emit(a)}},{name:"defaultviewport_changed",handler:function(){return e.defaultViewportChange.emit()}},{name:"status_changed",handler:function(){return e.statusChange.emit()}}].forEach(function(i){var a=e._manager.createEventObservable(i.name,e).subscribe(i.handler);e._subscriptions.push(a)})}},{key:"id",value:function(){return this._id}},{key:"toString",value:function(){return"AgmKmlLayer-".concat(this._id.toString())}},{key:"ngOnDestroy",value:function(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(function(e){return e.unsubscribe()})}}]),r}();function ge(r){var o=["insert_at","remove_at","set_at"];return(0,xe.R)(function(e){return o.map(function(n){return r.addListener(n,function(i,a){return e.apply(r,[{newArr:r.getArray(),evName:n,index:i,previous:a}])})})},function(e,n){return n.forEach(function(i){return i.remove()})})}P.\u0275fac=function(o){return new(o||P)(t.\u0275\u0275directiveInject(te))},P.\u0275dir=t.\u0275\u0275defineDirective({type:P,selectors:[["agm-kml-layer"]],inputs:{clickable:"clickable",preserveViewport:"preserveViewport",screenOverlays:"screenOverlays",suppressInfoWindows:"suppressInfoWindows",url:"url",zIndex:"zIndex"},outputs:{layerClick:"layerClick",defaultViewportChange:"defaultViewportChange",statusChange:"statusChange"},features:[t.\u0275\u0275NgOnChangesFeature]}),P._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],P.ctorParameters=function(){return[{type:te}]},s([(0,t.Input)(),u("design:type",Object)],P.prototype,"clickable",void 0),s([(0,t.Input)(),u("design:type",Object)],P.prototype,"preserveViewport",void 0),s([(0,t.Input)(),u("design:type",Object)],P.prototype,"screenOverlays",void 0),s([(0,t.Input)(),u("design:type",Object)],P.prototype,"suppressInfoWindows",void 0),s([(0,t.Input)(),u("design:type",String)],P.prototype,"url",void 0),s([(0,t.Input)(),u("design:type",Number)],P.prototype,"zIndex",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],P.prototype,"layerClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],P.prototype,"defaultViewportChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],P.prototype,"statusChange",void 0),P=de=s([u("design:paramtypes",[te])],P);var Z,ne=function(){var r=function(){function o(e,n){(0,b.Z)(this,o),this._mapsWrapper=e,this._zone=n,this._polygons=new Map}return(0,m.Z)(o,[{key:"addPolygon",value:function(n){var i=this._mapsWrapper.createPolygon({clickable:n.clickable,draggable:n.draggable,editable:n.editable,fillColor:n.fillColor,fillOpacity:n.fillOpacity,geodesic:n.geodesic,paths:n.paths,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokeWeight:n.strokeWeight,visible:n.visible,zIndex:n.zIndex});this._polygons.set(n,i)}},{key:"updatePolygon",value:function(n){var i=this,a=this._polygons.get(n);return null==a?Promise.resolve():a.then(function(l){return i._zone.run(function(){l.setPaths(n.paths)})})}},{key:"setPolygonOptions",value:function(n,i){return this._polygons.get(n).then(function(a){a.setOptions(i)})}},{key:"deletePolygon",value:function(n){var i=this,a=this._polygons.get(n);return null==a?Promise.resolve():a.then(function(l){return i._zone.run(function(){l.setMap(null),i._polygons.delete(n)})})}},{key:"getPath",value:function(n){return this._polygons.get(n).then(function(i){return i.getPath().getArray()})}},{key:"getPaths",value:function(n){return this._polygons.get(n).then(function(i){return i.getPaths().getArray().map(function(a){return a.getArray()})})}},{key:"createEventObservable",value:function(n,i){var a=this;return new T.y(function(l){a._polygons.get(i).then(function(p){p.addListener(n,function(g){return a._zone.run(function(){return l.next(g)})})})})}},{key:"createPathEventObservable",value:function(n){return N(this,void 0,void 0,(0,A.Z)().mark(function i(){var l,p;return(0,A.Z)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._polygons.get(n);case 2:return l=c.sent.getPaths(),p=ge(l),c.abrupt("return",p.pipe((0,ue.O)({newArr:l.getArray()}),(0,J.w)(function(I){return Ve.T.apply(void 0,(0,je.Z)(I.newArr.map(function(C,h){return ge(C).pipe((0,G.U)(function(W){return{parentMVEvent:I,chMVCEvent:W,pathIndex:h}}))}))).pipe((0,ue.O)({parentMVEvent:I,chMVCEvent:null,pathIndex:null}))}),(0,et.T)(1),(0,G.U)(function(I){var j,C=I.parentMVEvent,h=I.chMVCEvent,W=I.pathIndex;return h?(j={newArr:C.newArr.map(function(H){return H.getArray().map(function(Ie){return Ie.toJSON()})}),pathIndex:W,eventName:h.evName,index:h.index},h.previous&&(j.previous=h.previous)):(j={newArr:C.newArr.map(function(H){return H.getArray().map(function(Ie){return Ie.toJSON()})}),eventName:C.evName,index:C.index},C.previous&&(j.previous=C.previous.getArray())),j})));case 6:case"end":return c.stop()}},i,this)}))}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M,t.NgZone])],r)}(),D=Z=function(){function r(o,e){(0,b.Z)(this,r),this._mapsWrapper=o,this._zone=e,this._polylines=new Map}return(0,m.Z)(r,[{key:"addPolyline",value:function(e){var n=this,i=this._mapsWrapper.getNativeMap().then(function(){return[Z._convertPoints(e),Z._convertIcons(e)]}).then(function(a){var l=(0,oe.Z)(a,2);return n._mapsWrapper.createPolyline({clickable:e.clickable,draggable:e.draggable,editable:e.editable,geodesic:e.geodesic,strokeColor:e.strokeColor,strokeOpacity:e.strokeOpacity,strokeWeight:e.strokeWeight,visible:e.visible,zIndex:e.zIndex,path:l[0],icons:l[1]})});this._polylines.set(e,i)}},{key:"updatePolylinePoints",value:function(e){var n=this,i=Z._convertPoints(e),a=this._polylines.get(e);return null==a?Promise.resolve():a.then(function(l){return n._zone.run(function(){l.setPath(i)})})}},{key:"updateIconSequences",value:function(e){return N(this,void 0,void 0,(0,A.Z)().mark(function n(){var a,l,i=this;return(0,A.Z)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,this._mapsWrapper.getNativeMap();case 2:if(a=Z._convertIcons(e),null!=(l=this._polylines.get(e))){g.next=6;break}return g.abrupt("return");case 6:return g.abrupt("return",l.then(function(c){return i._zone.run(function(){return c.setOptions({icons:a})})}));case 7:case"end":return g.stop()}},n,this)}))}},{key:"setPolylineOptions",value:function(e,n){return this._polylines.get(e).then(function(i){i.setOptions(n)})}},{key:"deletePolyline",value:function(e){var n=this,i=this._polylines.get(e);return null==i?Promise.resolve():i.then(function(a){return n._zone.run(function(){a.setMap(null),n._polylines.delete(e)})})}},{key:"getMVCPath",value:function(e){return N(this,void 0,void 0,(0,A.Z)().mark(function n(){return(0,A.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this._polylines.get(e);case 2:return l.abrupt("return",l.sent.getPath());case 4:case"end":return l.stop()}},n,this)}))}},{key:"getPath",value:function(e){return N(this,void 0,void 0,(0,A.Z)().mark(function n(){return(0,A.Z)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.getMVCPath(e);case 2:return a.abrupt("return",a.sent.getArray());case 3:case"end":return a.stop()}},n,this)}))}},{key:"createEventObservable",value:function(e,n){var i=this;return new T.y(function(a){i._polylines.get(n).then(function(l){l.addListener(e,function(p){return i._zone.run(function(){return a.next(p)})})})})}},{key:"createPathEventObservable",value:function(e){return N(this,void 0,void 0,(0,A.Z)().mark(function n(){return(0,A.Z)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,this.getMVCPath(e);case 2:return l.abrupt("return",ge(l.sent));case 4:case"end":return l.stop()}},n,this)}))}}],[{key:"_convertPoints",value:function(e){return e._getPoints().map(function(i){return{lat:i.latitude,lng:i.longitude}})}},{key:"_convertPath",value:function(e){var n=google.maps.SymbolPath[e];return"number"==typeof n?n:e}},{key:"_convertIcons",value:function(e){var n=e._getIcons().map(function(i){return{fixedRotation:i.fixedRotation,offset:i.offset,repeat:i.repeat,icon:{anchor:new google.maps.Point(i.anchorX,i.anchorY),fillColor:i.fillColor,fillOpacity:i.fillOpacity,path:Z._convertPath(i.path),rotation:i.rotation,scale:i.scale,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight}}});return n.forEach(function(i){Object.entries(i).forEach(function(a){var l=(0,oe.Z)(a,2);typeof l[1]>"u"&&delete i[l[0]]}),(typeof i.icon.anchor.x>"u"||typeof i.icon.anchor.y>"u")&&delete i.icon.anchor}),n}}]),r}();D.\u0275fac=function(o){return new(o||D)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone))},D.\u0275prov=t.\u0275\u0275defineInjectable({token:D,factory:function(o){return D.\u0275fac(o)}}),D.ctorParameters=function(){return[{type:M},{type:t.NgZone}]},D=Z=s([u("design:paramtypes",[M,t.NgZone])],D);var he,ie=function(){var r=function(){function o(e,n){(0,b.Z)(this,o),this._apiWrapper=e,this._zone=n,this._rectangles=new Map}return(0,m.Z)(o,[{key:"addRectangle",value:function(n){this._rectangles.set(n,this._apiWrapper.createRectangle({bounds:{north:n.north,east:n.east,south:n.south,west:n.west},clickable:n.clickable,draggable:n.draggable,editable:n.editable,fillColor:n.fillColor,fillOpacity:n.fillOpacity,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokePosition:n.strokePosition,strokeWeight:n.strokeWeight,visible:n.visible,zIndex:n.zIndex}))}},{key:"removeRectangle",value:function(n){var i=this;return this._rectangles.get(n).then(function(a){a.setMap(null),i._rectangles.delete(n)})}},{key:"setOptions",value:function(n,i){return this._rectangles.get(n).then(function(a){return a.setOptions(i)})}},{key:"getBounds",value:function(n){return this._rectangles.get(n).then(function(i){return i.getBounds()})}},{key:"setBounds",value:function(n){return this._rectangles.get(n).then(function(i){return i.setBounds({north:n.north,east:n.east,south:n.south,west:n.west})})}},{key:"setEditable",value:function(n){return this._rectangles.get(n).then(function(i){return i.setEditable(n.editable)})}},{key:"setDraggable",value:function(n){return this._rectangles.get(n).then(function(i){return i.setDraggable(n.draggable)})}},{key:"setVisible",value:function(n){return this._rectangles.get(n).then(function(i){return i.setVisible(n.visible)})}},{key:"createEventObservable",value:function(n,i){var a=this;return T.y.create(function(l){var p=null;return a._rectangles.get(i).then(function(g){p=g.addListener(n,function(c){return a._zone.run(function(){return l.next(c)})})}),function(){null!==p&&p.remove()}})}}]),o}();return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(M),t.\u0275\u0275inject(t.NgZone))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([u("design:paramtypes",[M,t.NgZone])],r)}(),d=he=function(){function r(o,e,n,i,a){(0,b.Z)(this,r),this._elem=o,this._mapsWrapper=e,this._platformId=n,this._fitBoundsService=i,this._zone=a,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new t.EventEmitter,this.mapRightClick=new t.EventEmitter,this.mapDblClick=new t.EventEmitter,this.centerChange=new t.EventEmitter,this.boundsChange=new t.EventEmitter,this.mapTypeIdChange=new t.EventEmitter,this.idle=new t.EventEmitter,this.zoomChange=new t.EventEmitter,this.mapReady=new t.EventEmitter,this.tilesLoaded=new t.EventEmitter}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){if(!(0,K.isPlatformServer)(this._platformId)){var e=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(e)}}},{key:"_initMapInstance",value:function(e){var n=this;this._mapsWrapper.createMap(e,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(function(){return n._mapsWrapper.getNativeMap()}).then(function(i){return n.mapReady.emit(i)}),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}},{key:"ngOnDestroy",value:function(){this._observableSubscriptions.forEach(function(e){return e.unsubscribe()}),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}},{key:"ngOnChanges",value:function(e){this._updateMapOptionsChanges(e),this._updatePosition(e)}},{key:"_updateMapOptionsChanges",value:function(e){var n={};Object.keys(e).filter(function(a){return-1!==he._mapOptionsAttributes.indexOf(a)}).forEach(function(a){n[a]=e[a].currentValue}),this._mapsWrapper.setMapOptions(n)}},{key:"triggerResize",value:function(){var e=this,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(i){setTimeout(function(){return e._mapsWrapper.triggerMapEvent("resize").then(function(){n&&(null!=e.fitBounds?e._fitBounds():e._setCenter()),i()})})})}},{key:"_updatePosition",value:function(e){if(null!=e.latitude||null!=e.longitude||e.fitBounds){if("fitBounds"in e)return void this._fitBounds();"number"!=typeof this.latitude||"number"!=typeof this.longitude||this._setCenter()}}},{key:"_setCenter",value:function(){var e={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(e):this._mapsWrapper.setCenter(e)}},{key:"_fitBounds",value:function(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}},{key:"_subscribeToFitBoundsUpdates",value:function(){var e=this;this._zone.runOutsideAngular(function(){e._fitBoundsSubscription=e._fitBoundsService.getBounds$().subscribe(function(n){e._zone.run(function(){return e._updateBounds(n,e.fitBoundsPadding)})})})}},{key:"_updateBounds",value:function(e,n){if(e){if(this._isLatLngBoundsLiteral(e)&&typeof google<"u"&&google&&google.maps&&google.maps.LatLngBounds){var i=new google.maps.LatLngBounds;i.union(e),e=i}if(this.usePanning)return void this._mapsWrapper.panToBounds(e,n);this._mapsWrapper.fitBounds(e,n)}}},{key:"_isLatLngBoundsLiteral",value:function(e){return null!=e&&void 0===e.extend}},{key:"_handleMapCenterChange",value:function(){var e=this,n=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(function(){e._mapsWrapper.getCenter().then(function(i){e.latitude=i.lat(),e.longitude=i.lng(),e.centerChange.emit({lat:e.latitude,lng:e.longitude})})});this._observableSubscriptions.push(n)}},{key:"_handleBoundsChange",value:function(){var e=this,n=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(function(){e._mapsWrapper.getBounds().then(function(i){e.boundsChange.emit(i)})});this._observableSubscriptions.push(n)}},{key:"_handleMapTypeIdChange",value:function(){var e=this,n=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(function(){e._mapsWrapper.getMapTypeId().then(function(i){e.mapTypeIdChange.emit(i)})});this._observableSubscriptions.push(n)}},{key:"_handleMapZoomChange",value:function(){var e=this,n=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(function(){e._mapsWrapper.getZoom().then(function(i){e.zoom=i,e.zoomChange.emit(i)})});this._observableSubscriptions.push(n)}},{key:"_handleIdleEvent",value:function(){var e=this,n=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(function(){e.idle.emit(void 0)});this._observableSubscriptions.push(n)}},{key:"_handleTilesLoadedEvent",value:function(){var e=this,n=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(function(){return e.tilesLoaded.emit(void 0)});this._observableSubscriptions.push(n)}},{key:"_handleMapMouseEvents",value:function(){var e=this;[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(function(i){var a=e._mapsWrapper.subscribeToMapEvent(i.name).subscribe(function(l){var p={coords:{lat:l.latLng.lat(),lng:l.latLng.lng()},placeId:l.placeId};p.placeId&&!e.showDefaultInfoWindow&&l.stop(),i.emitter.emit(p)});e._observableSubscriptions.push(a)})}}]),r}();d.\u0275fac=function(o){return new(o||d)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(M),t.\u0275\u0275directiveInject(t.PLATFORM_ID),t.\u0275\u0275directiveInject(F),t.\u0275\u0275directiveInject(t.NgZone))},d.\u0275cmp=t.\u0275\u0275defineComponent({type:d,selectors:[["agm-map"]],hostVars:2,hostBindings:function(o,e){2&o&&t.\u0275\u0275classProp("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[t.\u0275\u0275ProvidersFeature([X,Y,Y,F,M,ee,te,$,x,ne,D,ie]),t.\u0275\u0275NgOnChangesFeature],ngContentSelectors:Te,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(o,e){1&o&&(t.\u0275\u0275projectionDef(),t.\u0275\u0275element(0,"div",0),t.\u0275\u0275elementStart(1,"div",1),t.\u0275\u0275projection(2),t.\u0275\u0275elementEnd())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),d._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],d.ctorParameters=function(){return[{type:t.ElementRef},{type:M},{type:Object,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]},{type:F},{type:t.NgZone}]},s([(0,t.Input)(),u("design:type",Object)],d.prototype,"longitude",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"latitude",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"zoom",void 0),s([(0,t.Input)(),u("design:type",Number)],d.prototype,"minZoom",void 0),s([(0,t.Input)(),u("design:type",Number)],d.prototype,"maxZoom",void 0),s([(0,t.Input)(),u("design:type",Number)],d.prototype,"controlSize",void 0),s([(0,t.Input)("mapDraggable"),u("design:type",Object)],d.prototype,"draggable",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"disableDoubleClickZoom",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"disableDefaultUI",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"scrollwheel",void 0),s([(0,t.Input)(),u("design:type",String)],d.prototype,"backgroundColor",void 0),s([(0,t.Input)(),u("design:type",String)],d.prototype,"draggableCursor",void 0),s([(0,t.Input)(),u("design:type",String)],d.prototype,"draggingCursor",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"keyboardShortcuts",void 0),s([(0,t.Input)(),u("design:type",Boolean)],d.prototype,"zoomControl",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"zoomControlOptions",void 0),s([(0,t.Input)(),u("design:type",Array)],d.prototype,"styles",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"usePanning",void 0),s([(0,t.Input)(),u("design:type",Boolean)],d.prototype,"streetViewControl",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"streetViewControlOptions",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"fitBounds",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"fitBoundsPadding",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"scaleControl",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"scaleControlOptions",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"mapTypeControl",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"mapTypeControlOptions",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"panControl",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"panControlOptions",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"rotateControl",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"rotateControlOptions",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"fullscreenControl",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"fullscreenControlOptions",void 0),s([(0,t.Input)(),u("design:type",String)],d.prototype,"mapTypeId",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"clickableIcons",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"showDefaultInfoWindow",void 0),s([(0,t.Input)(),u("design:type",String)],d.prototype,"gestureHandling",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"tilt",void 0),s([(0,t.Input)(),u("design:type",Object)],d.prototype,"restriction",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"mapClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"mapRightClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"mapDblClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"centerChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"boundsChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"mapTypeIdChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"idle",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"zoomChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"mapReady",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],d.prototype,"tilesLoaded",void 0),d=he=s([U(2,(0,t.Inject)(t.PLATFORM_ID)),u("design:paramtypes",[t.ElementRef,M,Object,F,t.NgZone])],d);var fe,ut=0,k=fe=function(){function r(o){(0,b.Z)(this,r),this._markerManager=o,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new t.EventEmitter,this.markerClick=new t.EventEmitter,this.markerDblClick=new t.EventEmitter,this.markerRightClick=new t.EventEmitter,this.dragStart=new t.EventEmitter,this.drag=new t.EventEmitter,this.dragEnd=new t.EventEmitter,this.mouseOver=new t.EventEmitter,this.mouseOut=new t.EventEmitter,this.infoWindow=new t.QueryList,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new Le.t(1),this._id=(ut++).toString()}return(0,m.Z)(r,[{key:"ngAfterContentInit",value:function(){var e=this;this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(function(){return e.handleInfoWindowUpdate()})}},{key:"handleInfoWindowUpdate",value:function(){var e=this;if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(function(n){n.hostMarker=e})}},{key:"ngOnChanges",value:function(e){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(e.latitude||e.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),e.title&&this._markerManager.updateTitle(this),e.label&&this._markerManager.updateLabel(this),e.draggable&&this._markerManager.updateDraggable(this),e.iconUrl&&this._markerManager.updateIcon(this),e.opacity&&this._markerManager.updateOpacity(this),e.visible&&this._markerManager.updateVisible(this),e.zIndex&&this._markerManager.updateZIndex(this),e.clickable&&this._markerManager.updateClickable(this),e.animation&&this._markerManager.updateAnimation(this)}}},{key:"getFitBoundsDetails$",value:function(){return this._fitBoundsDetails$.asObservable()}},{key:"_updateFitBoundsDetails",value:function(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}},{key:"_addEventListeners",value:function(){var e=this,n=this._markerManager.createEventObservable("click",this).subscribe(function(){e.openInfoWindow&&e.infoWindow.forEach(function(h){return h.open()}),e.markerClick.emit(e)});this._observableSubscriptions.push(n);var i=this._markerManager.createEventObservable("dblclick",this).subscribe(function(){e.markerDblClick.emit(null)});this._observableSubscriptions.push(i);var a=this._markerManager.createEventObservable("rightclick",this).subscribe(function(){e.markerRightClick.emit(null)});this._observableSubscriptions.push(a);var l=this._markerManager.createEventObservable("dragstart",this).subscribe(function(h){e.dragStart.emit({coords:{lat:h.latLng.lat(),lng:h.latLng.lng()}})});this._observableSubscriptions.push(l);var p=this._markerManager.createEventObservable("drag",this).subscribe(function(h){e.drag.emit({coords:{lat:h.latLng.lat(),lng:h.latLng.lng()}})});this._observableSubscriptions.push(p);var g=this._markerManager.createEventObservable("dragend",this).subscribe(function(h){e.dragEnd.emit({coords:{lat:h.latLng.lat(),lng:h.latLng.lng()}})});this._observableSubscriptions.push(g);var c=this._markerManager.createEventObservable("mouseover",this).subscribe(function(h){e.mouseOver.emit({coords:{lat:h.latLng.lat(),lng:h.latLng.lng()}})});this._observableSubscriptions.push(c);var I=this._markerManager.createEventObservable("mouseout",this).subscribe(function(h){e.mouseOut.emit({coords:{lat:h.latLng.lat(),lng:h.latLng.lng()}})});this._observableSubscriptions.push(I);var C=this._markerManager.createEventObservable("animation_changed",this).subscribe(function(){e.animationChange.emit(e.animation)});this._observableSubscriptions.push(C)}},{key:"id",value:function(){return this._id}},{key:"toString",value:function(){return"AgmMarker-"+this._id.toString()}},{key:"ngOnDestroy",value:function(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(function(e){return e.unsubscribe()})}}]),r}();k.\u0275fac=function(o){return new(o||k)(t.\u0275\u0275directiveInject(x))},k.\u0275dir=t.\u0275\u0275defineDirective({type:k,selectors:[["agm-marker"]],contentQueries:function(o,e,n){var i;1&o&&t.\u0275\u0275contentQuery(n,w,4),2&o&&t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(e.infoWindow=i)},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerDblClick:"markerDblClick",markerRightClick:"markerRightClick"},features:[t.\u0275\u0275ProvidersFeature([{provide:q,useExisting:(0,t.forwardRef)(function(){return fe})}]),t.\u0275\u0275NgOnChangesFeature]}),k.ctorParameters=function(){return[{type:x}]},s([(0,t.Input)(),u("design:type",Number)],k.prototype,"latitude",void 0),s([(0,t.Input)(),u("design:type",Number)],k.prototype,"longitude",void 0),s([(0,t.Input)(),u("design:type",String)],k.prototype,"title",void 0),s([(0,t.Input)(),u("design:type",Object)],k.prototype,"label",void 0),s([(0,t.Input)("markerDraggable"),u("design:type",Object)],k.prototype,"draggable",void 0),s([(0,t.Input)(),u("design:type",String)],k.prototype,"iconUrl",void 0),s([(0,t.Input)(),u("design:type",Object)],k.prototype,"visible",void 0),s([(0,t.Input)(),u("design:type",Object)],k.prototype,"openInfoWindow",void 0),s([(0,t.Input)(),u("design:type",Object)],k.prototype,"opacity",void 0),s([(0,t.Input)(),u("design:type",Object)],k.prototype,"zIndex",void 0),s([(0,t.Input)("markerClickable"),u("design:type",Object)],k.prototype,"clickable",void 0),s([(0,t.Input)(),u("design:type",String)],k.prototype,"animation",void 0),s([(0,t.Output)(),u("design:type",Object)],k.prototype,"animationChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"markerClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"markerDblClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"markerRightClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"dragStart",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"drag",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"dragEnd",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"mouseOver",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],k.prototype,"mouseOut",void 0),s([(0,t.ContentChildren)(w),u("design:type",t.QueryList)],k.prototype,"infoWindow",void 0),k=fe=s([u("design:paramtypes",[x])],k);var ye,_=ye=function(){function r(o){(0,b.Z)(this,r),this._polygonManager=o,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new t.EventEmitter,this.polyDblClick=new t.EventEmitter,this.polyDrag=new t.EventEmitter,this.polyDragEnd=new t.EventEmitter,this.polyDragStart=new t.EventEmitter,this.polyMouseDown=new t.EventEmitter,this.polyMouseMove=new t.EventEmitter,this.polyMouseOut=new t.EventEmitter,this.polyMouseOver=new t.EventEmitter,this.polyMouseUp=new t.EventEmitter,this.polyRightClick=new t.EventEmitter,this.polyPathsChange=new t.EventEmitter,this._polygonAddedToManager=!1,this._subscriptions=[]}return(0,m.Z)(r,[{key:"ngAfterContentInit",value:function(){this._polygonAddedToManager||this._init()}},{key:"ngOnChanges",value:function(e){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(e)):this._init()}},{key:"_init",value:function(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;[{name:"click",handler:function(a){return e.polyClick.emit(a)}},{name:"dblclick",handler:function(a){return e.polyDblClick.emit(a)}},{name:"drag",handler:function(a){return e.polyDrag.emit(a)}},{name:"dragend",handler:function(a){return e.polyDragEnd.emit(a)}},{name:"dragstart",handler:function(a){return e.polyDragStart.emit(a)}},{name:"mousedown",handler:function(a){return e.polyMouseDown.emit(a)}},{name:"mousemove",handler:function(a){return e.polyMouseMove.emit(a)}},{name:"mouseout",handler:function(a){return e.polyMouseOut.emit(a)}},{name:"mouseover",handler:function(a){return e.polyMouseOver.emit(a)}},{name:"mouseup",handler:function(a){return e.polyMouseUp.emit(a)}},{name:"rightclick",handler:function(a){return e.polyRightClick.emit(a)}}].forEach(function(i){var a=e._polygonManager.createEventObservable(i.name,e).subscribe(i.handler);e._subscriptions.push(a)}),this._polygonManager.createPathEventObservable(this).then(function(i){var a=i.subscribe(function(l){return e.polyPathsChange.emit(l)});e._subscriptions.push(a)})}},{key:"_updatePolygonOptions",value:function(e){return Object.keys(e).filter(function(n){return-1!==ye._polygonOptionsAttributes.indexOf(n)}).reduce(function(n,i){return n[i]=e[i].currentValue,n},{})}},{key:"id",value:function(){return this._id}},{key:"ngOnDestroy",value:function(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(function(e){return e.unsubscribe()})}},{key:"getPath",value:function(){return this._polygonManager.getPath(this)}},{key:"getPaths",value:function(){return this._polygonManager.getPaths(this)}}]),r}();_.\u0275fac=function(o){return new(o||_)(t.\u0275\u0275directiveInject(ne))},_.\u0275dir=t.\u0275\u0275defineDirective({type:_,selectors:[["agm-polygon"]],inputs:{clickable:"clickable",draggable:["polyDraggable","draggable"],editable:"editable",geodesic:"geodesic",paths:"paths",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",visible:"visible",zIndex:"zIndex"},outputs:{polyClick:"polyClick",polyDblClick:"polyDblClick",polyDrag:"polyDrag",polyDragEnd:"polyDragEnd",polyDragStart:"polyDragStart",polyMouseDown:"polyMouseDown",polyMouseMove:"polyMouseMove",polyMouseOut:"polyMouseOut",polyMouseOver:"polyMouseOver",polyMouseUp:"polyMouseUp",polyRightClick:"polyRightClick",polyPathsChange:"polyPathsChange"},features:[t.\u0275\u0275NgOnChangesFeature]}),_._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],_.ctorParameters=function(){return[{type:ne}]},s([(0,t.Input)(),u("design:type",Object)],_.prototype,"clickable",void 0),s([(0,t.Input)("polyDraggable"),u("design:type",Object)],_.prototype,"draggable",void 0),s([(0,t.Input)(),u("design:type",Object)],_.prototype,"editable",void 0),s([(0,t.Input)(),u("design:type",String)],_.prototype,"fillColor",void 0),s([(0,t.Input)(),u("design:type",Number)],_.prototype,"fillOpacity",void 0),s([(0,t.Input)(),u("design:type",Object)],_.prototype,"geodesic",void 0),s([(0,t.Input)(),u("design:type",Array)],_.prototype,"paths",void 0),s([(0,t.Input)(),u("design:type",String)],_.prototype,"strokeColor",void 0),s([(0,t.Input)(),u("design:type",Number)],_.prototype,"strokeOpacity",void 0),s([(0,t.Input)(),u("design:type",Number)],_.prototype,"strokeWeight",void 0),s([(0,t.Input)(),u("design:type",Boolean)],_.prototype,"visible",void 0),s([(0,t.Input)(),u("design:type",Number)],_.prototype,"zIndex",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyDblClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyDrag",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyDragEnd",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyDragStart",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyMouseDown",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyMouseMove",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyMouseOut",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyMouseOver",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyMouseUp",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],_.prototype,"polyRightClick",void 0),s([(0,t.Output)(),u("design:type",Object)],_.prototype,"polyPathsChange",void 0),_=ye=s([u("design:paramtypes",[ne])],_);var me,ve=function(){var r=function(){function o(){(0,b.Z)(this,o)}return(0,m.Z)(o,[{key:"ngOnInit",value:function(){if(null==this.path)throw new Error("Icon Sequence path is required")}}]),o}();return r.\u0275fac=function(e){return new(e||r)},r.\u0275dir=t.\u0275\u0275defineDirective({type:r,selectors:[["agm-icon-sequence"]],inputs:{fixedRotation:"fixedRotation",offset:"offset",repeat:"repeat",anchorX:"anchorX",anchorY:"anchorY",fillColor:"fillColor",fillOpacity:"fillOpacity",path:"path",rotation:"rotation",scale:"scale",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight"}}),s([(0,t.Input)(),u("design:type",Boolean)],r.prototype,"fixedRotation",void 0),s([(0,t.Input)(),u("design:type",String)],r.prototype,"offset",void 0),s([(0,t.Input)(),u("design:type",String)],r.prototype,"repeat",void 0),s([(0,t.Input)(),u("design:type",Number)],r.prototype,"anchorX",void 0),s([(0,t.Input)(),u("design:type",Number)],r.prototype,"anchorY",void 0),s([(0,t.Input)(),u("design:type",String)],r.prototype,"fillColor",void 0),s([(0,t.Input)(),u("design:type",Number)],r.prototype,"fillOpacity",void 0),s([(0,t.Input)(),u("design:type",String)],r.prototype,"path",void 0),s([(0,t.Input)(),u("design:type",Number)],r.prototype,"rotation",void 0),s([(0,t.Input)(),u("design:type",Number)],r.prototype,"scale",void 0),s([(0,t.Input)(),u("design:type",String)],r.prototype,"strokeColor",void 0),s([(0,t.Input)(),u("design:type",Number)],r.prototype,"strokeOpacity",void 0),s([(0,t.Input)(),u("design:type",Number)],r.prototype,"strokeWeight",void 0),r}(),L=me=function(){function r(){(0,b.Z)(this,r),this.positionChanged=new t.EventEmitter}return(0,m.Z)(r,[{key:"ngOnChanges",value:function(e){(e.latitude||e.longitude)&&this.positionChanged.emit({lat:e.latitude?e.latitude.currentValue:this.latitude,lng:e.longitude?e.longitude.currentValue:this.longitude})}},{key:"getFitBoundsDetails$",value:function(){return this.positionChanged.pipe((0,ue.O)({lat:this.latitude,lng:this.longitude}),(0,G.U)(function(e){return{latLng:e}}))}}]),r}();L.\u0275fac=function(o){return new(o||L)},L.\u0275dir=t.\u0275\u0275defineDirective({type:L,selectors:[["agm-polyline-point"]],inputs:{latitude:"latitude",longitude:"longitude"},outputs:{positionChanged:"positionChanged"},features:[t.\u0275\u0275ProvidersFeature([{provide:q,useExisting:(0,t.forwardRef)(function(){return me})}]),t.\u0275\u0275NgOnChangesFeature]}),s([(0,t.Input)(),u("design:type",Number)],L.prototype,"latitude",void 0),s([(0,t.Input)(),u("design:type",Number)],L.prototype,"longitude",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],L.prototype,"positionChanged",void 0),L=me=s([u("design:paramtypes",[])],L);var be,lt=0,O=be=function(){function r(o){(0,b.Z)(this,r),this._polylineManager=o,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new t.EventEmitter,this.lineDblClick=new t.EventEmitter,this.lineDrag=new t.EventEmitter,this.lineDragEnd=new t.EventEmitter,this.lineDragStart=new t.EventEmitter,this.lineMouseDown=new t.EventEmitter,this.lineMouseMove=new t.EventEmitter,this.lineMouseOut=new t.EventEmitter,this.lineMouseOver=new t.EventEmitter,this.lineMouseUp=new t.EventEmitter,this.lineRightClick=new t.EventEmitter,this.polyPathChange=new t.EventEmitter,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=(lt++).toString()}return(0,m.Z)(r,[{key:"ngAfterContentInit",value:function(){var e=this;this.points.length&&this.points.forEach(function(a){var l=a.positionChanged.subscribe(function(){e._polylineManager.updatePolylinePoints(e)});e._subscriptions.push(l)}),this._polylineAddedToManager||this._init();var n=this.points.changes.subscribe(function(){return e._polylineManager.updatePolylinePoints(e)});this._subscriptions.push(n),this._polylineManager.updatePolylinePoints(this);var i=this.iconSequences.changes.subscribe(function(){return e._polylineManager.updateIconSequences(e)});this._subscriptions.push(i)}},{key:"ngOnChanges",value:function(e){if(this._polylineAddedToManager){var n={};Object.keys(e).filter(function(a){return-1!==be._polylineOptionsAttributes.indexOf(a)}).forEach(function(a){return n[a]=e[a].currentValue}),this._polylineManager.setPolylineOptions(this,n)}else this._init()}},{key:"getPath",value:function(){return this._polylineManager.getPath(this)}},{key:"_init",value:function(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()}},{key:"_addEventListeners",value:function(){var e=this;[{name:"click",handler:function(a){return e.lineClick.emit(a)}},{name:"dblclick",handler:function(a){return e.lineDblClick.emit(a)}},{name:"drag",handler:function(a){return e.lineDrag.emit(a)}},{name:"dragend",handler:function(a){return e.lineDragEnd.emit(a)}},{name:"dragstart",handler:function(a){return e.lineDragStart.emit(a)}},{name:"mousedown",handler:function(a){return e.lineMouseDown.emit(a)}},{name:"mousemove",handler:function(a){return e.lineMouseMove.emit(a)}},{name:"mouseout",handler:function(a){return e.lineMouseOut.emit(a)}},{name:"mouseover",handler:function(a){return e.lineMouseOver.emit(a)}},{name:"mouseup",handler:function(a){return e.lineMouseUp.emit(a)}},{name:"rightclick",handler:function(a){return e.lineRightClick.emit(a)}}].forEach(function(i){var a=e._polylineManager.createEventObservable(i.name,e).subscribe(i.handler);e._subscriptions.push(a)}),this._polylineManager.createPathEventObservable(this).then(function(i){var a=i.subscribe(function(l){return e.polyPathChange.emit(l)});e._subscriptions.push(a)})}},{key:"_getPoints",value:function(){return this.points?this.points.toArray():[]}},{key:"_getIcons",value:function(){return this.iconSequences?this.iconSequences.toArray():[]}},{key:"id",value:function(){return this._id}},{key:"ngOnDestroy",value:function(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(function(e){return e.unsubscribe()})}}]),r}();O.\u0275fac=function(o){return new(o||O)(t.\u0275\u0275directiveInject(D))},O.\u0275dir=t.\u0275\u0275defineDirective({type:O,selectors:[["agm-polyline"]],contentQueries:function(o,e,n){var i;1&o&&(t.\u0275\u0275contentQuery(n,L,4),t.\u0275\u0275contentQuery(n,ve,4)),2&o&&(t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(e.points=i),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(e.iconSequences=i))},inputs:{clickable:"clickable",draggable:["polylineDraggable","draggable"],editable:"editable",geodesic:"geodesic",visible:"visible",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",zIndex:"zIndex"},outputs:{lineClick:"lineClick",lineDblClick:"lineDblClick",lineDrag:"lineDrag",lineDragEnd:"lineDragEnd",lineDragStart:"lineDragStart",lineMouseDown:"lineMouseDown",lineMouseMove:"lineMouseMove",lineMouseOut:"lineMouseOut",lineMouseOver:"lineMouseOver",lineMouseUp:"lineMouseUp",lineRightClick:"lineRightClick",polyPathChange:"polyPathChange"},features:[t.\u0275\u0275NgOnChangesFeature]}),O._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],O.ctorParameters=function(){return[{type:D}]},s([(0,t.Input)(),u("design:type",Object)],O.prototype,"clickable",void 0),s([(0,t.Input)("polylineDraggable"),u("design:type",Object)],O.prototype,"draggable",void 0),s([(0,t.Input)(),u("design:type",Object)],O.prototype,"editable",void 0),s([(0,t.Input)(),u("design:type",Object)],O.prototype,"geodesic",void 0),s([(0,t.Input)(),u("design:type",String)],O.prototype,"strokeColor",void 0),s([(0,t.Input)(),u("design:type",Number)],O.prototype,"strokeOpacity",void 0),s([(0,t.Input)(),u("design:type",Number)],O.prototype,"strokeWeight",void 0),s([(0,t.Input)(),u("design:type",Object)],O.prototype,"visible",void 0),s([(0,t.Input)(),u("design:type",Number)],O.prototype,"zIndex",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineDblClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineDrag",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineDragEnd",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineDragStart",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineMouseDown",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineMouseMove",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineMouseOut",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineMouseOver",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineMouseUp",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],O.prototype,"lineRightClick",void 0),s([(0,t.Output)(),u("design:type",Object)],O.prototype,"polyPathChange",void 0),s([(0,t.ContentChildren)(L),u("design:type",t.QueryList)],O.prototype,"points",void 0),s([(0,t.ContentChildren)(ve),u("design:type",t.QueryList)],O.prototype,"iconSequences",void 0),O=be=s([u("design:paramtypes",[D])],O);var _e,v=_e=function(){function r(o){(0,b.Z)(this,r),this._manager=o,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new t.EventEmitter,this.rectangleClick=new t.EventEmitter,this.rectangleDblClick=new t.EventEmitter,this.drag=new t.EventEmitter,this.dragEnd=new t.EventEmitter,this.dragStart=new t.EventEmitter,this.mouseDown=new t.EventEmitter,this.mouseMove=new t.EventEmitter,this.mouseOut=new t.EventEmitter,this.mouseOver=new t.EventEmitter,this.mouseUp=new t.EventEmitter,this.rightClick=new t.EventEmitter,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}return(0,m.Z)(r,[{key:"ngOnInit",value:function(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()}},{key:"ngOnChanges",value:function(e){!this._rectangleAddedToManager||((e.north||e.east||e.south||e.west)&&this._manager.setBounds(this),e.editable&&this._manager.setEditable(this),e.draggable&&this._manager.setDraggable(this),e.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(e))}},{key:"_updateRectangleOptionsChanges",value:function(e){var n={},i=Object.keys(e).filter(function(a){return-1!==_e._mapOptions.indexOf(a)});i.forEach(function(a){n[a]=e[a].currentValue}),i.length>0&&this._manager.setOptions(this,n)}},{key:"_registerEventListeners",value:function(){var e=this,n=new Map;n.set("bounds_changed",this.boundsChange),n.set("click",this.rectangleClick),n.set("dblclick",this.rectangleDblClick),n.set("drag",this.drag),n.set("dragend",this.dragEnd),n.set("dragStart",this.dragStart),n.set("mousedown",this.mouseDown),n.set("mousemove",this.mouseMove),n.set("mouseout",this.mouseOut),n.set("mouseover",this.mouseOver),n.set("mouseup",this.mouseUp),n.set("rightclick",this.rightClick),n.forEach(function(i,a){e._eventSubscriptions.push(e._manager.createEventObservable(a,e).subscribe(function(l){"bounds_changed"===a?e._manager.getBounds(e).then(function(p){return i.emit({north:p.getNorthEast().lat(),east:p.getNorthEast().lng(),south:p.getSouthWest().lat(),west:p.getSouthWest().lng()})}):i.emit({coords:{lat:l.latLng.lat(),lng:l.latLng.lng()}})}))})}},{key:"ngOnDestroy",value:function(){this._eventSubscriptions.forEach(function(e){e.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeRectangle(this)}},{key:"getBounds",value:function(){return this._manager.getBounds(this)}}]),r}();v.\u0275fac=function(o){return new(o||v)(t.\u0275\u0275directiveInject(ie))},v.\u0275dir=t.\u0275\u0275defineDirective({type:v,selectors:[["agm-rectangle"]],inputs:{clickable:"clickable",draggable:["rectangleDraggable","draggable"],editable:"editable",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",north:"north",east:"east",south:"south",west:"west",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{boundsChange:"boundsChange",rectangleClick:"rectangleClick",rectangleDblClick:"rectangleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",rightClick:"rightClick"},features:[t.\u0275\u0275NgOnChangesFeature]}),v._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],v.ctorParameters=function(){return[{type:ie}]},s([(0,t.Input)(),u("design:type",Number)],v.prototype,"north",void 0),s([(0,t.Input)(),u("design:type",Number)],v.prototype,"east",void 0),s([(0,t.Input)(),u("design:type",Number)],v.prototype,"south",void 0),s([(0,t.Input)(),u("design:type",Number)],v.prototype,"west",void 0),s([(0,t.Input)(),u("design:type",Object)],v.prototype,"clickable",void 0),s([(0,t.Input)("rectangleDraggable"),u("design:type",Object)],v.prototype,"draggable",void 0),s([(0,t.Input)(),u("design:type",Object)],v.prototype,"editable",void 0),s([(0,t.Input)(),u("design:type",String)],v.prototype,"fillColor",void 0),s([(0,t.Input)(),u("design:type",Number)],v.prototype,"fillOpacity",void 0),s([(0,t.Input)(),u("design:type",String)],v.prototype,"strokeColor",void 0),s([(0,t.Input)(),u("design:type",Number)],v.prototype,"strokeOpacity",void 0),s([(0,t.Input)(),u("design:type",String)],v.prototype,"strokePosition",void 0),s([(0,t.Input)(),u("design:type",Object)],v.prototype,"strokeWeight",void 0),s([(0,t.Input)(),u("design:type",Object)],v.prototype,"visible",void 0),s([(0,t.Input)(),u("design:type",Number)],v.prototype,"zIndex",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"boundsChange",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"rectangleClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"rectangleDblClick",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"drag",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"dragEnd",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"dragStart",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"mouseDown",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"mouseMove",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"mouseOut",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"mouseOver",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"mouseUp",void 0),s([(0,t.Output)(),u("design:type",t.EventEmitter)],v.prototype,"rightClick",void 0),v=_e=s([u("design:paramtypes",[ie])],v);var re=function(){return(r=re||(re={})).ERROR="ERROR",r.INVALID_REQUEST="INVALID_REQUEST",r.OK="OK",r.OVER_QUERY_LIMIT="OVER_QUERY_LIMIT",r.REQUEST_DENIED="REQUEST_DENIED",r.UNKNOWN_ERROR="UNKNOWN_ERROR",r.ZERO_RESULTS="ZERO_RESULTS",re;var r}(),B=function(){function r(o){var e=this;(0,b.Z)(this,r);var n=new T.y(function(i){o.load().then(function(){return i.next()})}).pipe((0,G.U)(function(){return e._createGeocoder()}),(0,tt.O)(new Le.t(1)));n.connect(),this.geocoder$=n}return(0,m.Z)(r,[{key:"geocode",value:function(e){var n=this;return this.geocoder$.pipe((0,J.w)(function(i){return n._getGoogleResults(i,e)}))}},{key:"_getGoogleResults",value:function(e,n){return(0,Ue.b)(e.geocode)(n).pipe((0,J.w)(function(a){var l=(0,oe.Z)(a,2),g=l[1];return g===re.OK?(0,Ge.of)(l[0]):(0,$e._)(g)}))}},{key:"_createGeocoder",value:function(){return new google.maps.Geocoder}}]),r}();B.\u0275fac=function(o){return new(o||B)(t.\u0275\u0275inject(R))},B.\u0275prov=t.\u0275\u0275defineInjectable({token:B,factory:function(o){return B.\u0275fac(o)},providedIn:"root"}),B.ngInjectableDef=(0,t.\u0275\u0275defineInjectable)({factory:function(){return new B((0,t.\u0275\u0275inject)(R))},token:B,providedIn:"root"}),B=s([u("design:paramtypes",[R])],B);var Re,Oe=function(){function r(){(0,b.Z)(this,r)}return(0,m.Z)(r,[{key:"getNativeWindow",value:function(){return window}}]),r}(),ke=function(){function r(){(0,b.Z)(this,r)}return(0,m.Z)(r,[{key:"getNativeDocument",value:function(){return document}}]),r}(),dt=[Oe,ke],z=function(){return(r=z||(z={}))[r.HTTP=1]="HTTP",r[r.HTTPS=2]="HTTPS",r[r.AUTO=3]="AUTO",z;var r}(),Ce=new t.InjectionToken("angular-google-maps LAZY_MAPS_API_CONFIG"),gt=function(){var r=function(o){(0,we.Z)(n,o);var e=(0,Pe.Z)(n);function n(){var i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,l=arguments.length>1?arguments[1]:void 0,p=arguments.length>2?arguments[2]:void 0,g=arguments.length>3?arguments[3]:void 0;return(0,b.Z)(this,n),(i=e.call(this)).localeId=g,i._SCRIPT_ID="agmGoogleMapsApiScript",i.callbackName="agmLazyMapsAPILoader",i._config=a||{},i._windowRef=l,i._documentRef=p,i}return(0,m.Z)(n,[{key:"load",value:function(){var a=this._windowRef.getNativeWindow();if(a.google&&a.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var l=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(l)return this._assignScriptLoadingPromise(l),this._scriptLoadingPromise;var p=this._documentRef.getNativeDocument().createElement("script");return p.type="text/javascript",p.async=!0,p.defer=!0,p.id=this._SCRIPT_ID,p.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(p),this._documentRef.getNativeDocument().body.appendChild(p),this._scriptLoadingPromise}},{key:"_assignScriptLoadingPromise",value:function(a){var l=this;this._scriptLoadingPromise=new Promise(function(p,g){l._windowRef.getNativeWindow()[l.callbackName]=function(){p()},a.onerror=function(c){g(c)}})}},{key:"_getScriptSrc",value:function(a){var p;switch(this._config&&this._config.protocol||z.HTTPS){case z.AUTO:p="";break;case z.HTTP:p="http:";break;case z.HTTPS:p="https:"}var g=this._config.hostAndPath||"maps.googleapis.com/maps/api/js",c={v:this._config.apiVersion||"quarterly",callback:a,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language||"en-US"!==this.localeId?this.localeId:null},I=Object.keys(c).filter(function(C){return null!=c[C]}).filter(function(C){return!Array.isArray(c[C])||Array.isArray(c[C])&&c[C].length>0}).map(function(C){var h=c[C];return Array.isArray(h)?{key:C,value:h.join(",")}:{key:C,value:c[C]}}).map(function(C){return"".concat(C.key,"=").concat(C.value)}).join("&");return"".concat(p,"//").concat(g,"?").concat(I)}}]),n}(R);return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275inject(Ce,8),t.\u0275\u0275inject(Oe),t.\u0275\u0275inject(ke),t.\u0275\u0275inject(t.LOCALE_ID))},r.\u0275prov=t.\u0275\u0275defineInjectable({token:r,factory:function(e){return r.\u0275fac(e)}}),r=s([U(0,(0,t.Optional)()),U(0,(0,t.Inject)(Ce)),U(3,(0,t.Inject)(t.LOCALE_ID)),u("design:paramtypes",[Object,Oe,ke,String])],r)}(),V=Re=function(){function r(){(0,b.Z)(this,r)}return(0,m.Z)(r,null,[{key:"forRoot",value:function(e){return{ngModule:Re,providers:[].concat(dt,[{provide:R,useClass:gt},{provide:Ce,useValue:e}])}}}]),r}();V.\u0275fac=function(o){return new(o||V)},V.\u0275mod=t.\u0275\u0275defineNgModule({type:V}),V.\u0275inj=t.\u0275\u0275defineInjector({});var Ee=f(29580),Be=f(93007),We=f(47352);const ht=["streetviewMap"],ft=["streetviewPano"];function yt(r,o){if(1&r&&t.\u0275\u0275element(0,"agm-marker",11),2&r){const e=o.$implicit;t.\u0275\u0275property("latitude",e.latitude)("longitude",e.longitude)}}let vt=(()=>{class r{constructor(e,n){this.platformId=e,this.mapsAPILoader=n,this.longitude=20.728218,this.latitude=52.128973,this.zoom=15}ngOnInit(){this.breadCrumbItems=[{label:"Maps"},{label:"Google Maps",active:!0}],this._fetchData(),this._initPanorama()}_fetchData(){this.markers=[{latitude:52.228973,longitude:20.728218}]}placeMarker(e){this.markers.push({latitude:e.coords.lat,longitude:e.coords.lng})}_initPanorama(){(0,K.isPlatformBrowser)(this.platformId)}}return r.\u0275fac=function(e){return new(e||r)(t.\u0275\u0275directiveInject(t.PLATFORM_ID),t.\u0275\u0275directiveInject(R))},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["app-google"]],viewQuery:function(e,n){if(1&e&&(t.\u0275\u0275viewQuery(ht,7),t.\u0275\u0275viewQuery(ft,7)),2&e){let i;t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.streetviewMap=i.first),t.\u0275\u0275queryRefresh(i=t.\u0275\u0275loadQuery())&&(n.streetviewPano=i.first)}},decls:26,vars:14,consts:[["title","Google Maps",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-6"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],[2,"height","300px",3,"latitude","longitude"],[2,"height","300px",3,"latitude","longitude","mapClick"],[3,"latitude","longitude",4,"ngFor","ngForOf"],[3,"latitude","longitude","radius","fillColor","circleDraggable","editable"],[3,"latitude","longitude"]],template:function(e,n){1&e&&(t.\u0275\u0275element(0,"app-breadcrumbs",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.\u0275\u0275text(6,"Markers"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",6),t.\u0275\u0275element(8,"agm-map",7),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",2)(10,"div",3)(11,"div",4)(12,"h4",5),t.\u0275\u0275text(13,"Overlays"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",6)(15,"agm-map",8),t.\u0275\u0275listener("mapClick",function(a){return n.placeMarker(a)}),t.\u0275\u0275template(16,yt,1,2,"agm-marker",9),t.\u0275\u0275elementEnd()()()()(),t.\u0275\u0275elementStart(17,"div",1)(18,"div",2)(19,"div",3)(20,"div",4)(21,"h4",5),t.\u0275\u0275text(22,"Location"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(23,"div",6)(24,"agm-map",7),t.\u0275\u0275element(25,"agm-circle",10),t.\u0275\u0275elementEnd()()()()()),2&e&&(t.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),t.\u0275\u0275advance(8),t.\u0275\u0275property("latitude",n.latitude)("longitude",n.longitude),t.\u0275\u0275advance(7),t.\u0275\u0275property("latitude",n.latitude)("longitude",n.longitude),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",n.markers),t.\u0275\u0275advance(8),t.\u0275\u0275property("latitude",n.latitude)("longitude",n.longitude),t.\u0275\u0275advance(1),t.\u0275\u0275property("latitude",n.latitude)("longitude",n.longitude)("radius",9e3)("fillColor","red")("circleDraggable",!0)("editable",!0))},dependencies:[K.NgForOf,y,d,k,We.n]}),r})();var E=f(98407);const mt=[{path:"google",component:vt},{path:"leaflet",component:(()=>{class r{constructor(){this.options={layers:[(0,E.tileLayer)("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1})],zoom:13,center:(0,E.latLng)(51.505,-.09)},this.markers={layers:[(0,E.tileLayer)("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1})],zoom:13,center:(0,E.latLng)(51.505,-.09)},this.markersLayers=[(0,E.circle)([51.508,-.11],{color:"#34c38f",fillColor:"#34c38f",radius:500}),(0,E.polygon)([[51.509,-.08],[51.503,-.06],[51.51,-.047]],{color:"#556ee6",fillColor:"#556ee6"}),(0,E.marker)([51.5,-.09])],this.popups={layers:[(0,E.tileLayer)("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1})],zoom:13,center:(0,E.latLng)(51.505,-.09)},this.popupLayers=[(0,E.circle)([51.508,-.11],{color:"#34c38f",fillColor:"#34c38f",radius:500}).bindPopup("I am a circle."),(0,E.polygon)([[51.509,-.08],[51.503,-.06],[51.51,-.047]],{color:"#556ee6",fillColor:"#556ee6"}).bindPopup("I am a polygon."),(0,E.marker)([51.5,-.09]).bindPopup("<b>Hello world!</b><br />I am a popup.")],this.custom={layers:[(0,E.tileLayer)("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{tileSize:512,zoomOffset:-1,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'})],zoom:13,center:(0,E.latLng)(51.5,-.09)},this.customLayers=[(0,E.marker)([51.5,-.09],{icon:(0,E.icon)({iconSize:[45,95],iconAnchor:[22,94],popupAnchor:[-3,-76],iconUrl:"assets/images/logo-sm.svg"})})],this.choropleth={layers:[(0,E.tileLayer)("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{id:"mapbox/light-v9",tileSize:512,zoomOffset:-1,maxZoom:18,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>'})],zoom:1.1,center:(0,E.latLng)(28,1.5)},this.choroplethLayers=[(0,E.circle)([41.9,12.45],{color:"#435fe3",opacity:.5,weight:10,fillColor:"#435fe3",fillOpacity:1,radius:4e5}),(0,E.circle)([12.05,-61.75],{color:"#435fe3",opacity:.5,weight:10,fillColor:"#435fe3",fillOpacity:1,radius:4e5}),(0,E.circle)([1.3,103.8],{color:"#435fe3",opacity:.5,weight:10,fillColor:"#435fe3",fillOpacity:1,radius:4e5})],this.groups={layers:[(0,E.tileLayer)("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw",{id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>'})],zoom:10,center:(0,E.latLng)(39.73,-104.99)},this.GroupsLayers=[(0,E.marker)([39.61,-105.02]).bindPopup("This is Littleton"),(0,E.marker)([39.74,-104.99]).bindPopup("This is Denver"),(0,E.marker)([39.73,-104.8]).bindPopup("This is Aurora"),(0,E.marker)([39.77,-105.23]).bindPopup("This is Golden")]}ngOnInit(){this.breadCrumbItems=[{label:"Maps"},{label:"Leaflet",active:!0}]}}return r.\u0275fac=function(e){return new(e||r)},r.\u0275cmp=t.\u0275\u0275defineComponent({type:r,selectors:[["app-leaflet"]],decls:46,vars:12,consts:[["title","Leaflet",3,"breadcrumbItems"],[1,"row"],[1,"col-lg-6"],[1,"card"],[1,"card-header"],[1,"card-title","mb-0"],[1,"card-body"],["leaflet","",2,"height","300px",3,"leafletOptions"],["leaflet","",2,"height","300px",3,"leafletOptions","leafletLayers"]],template:function(e,n){1&e&&(t.\u0275\u0275element(0,"app-breadcrumbs",0),t.\u0275\u0275elementStart(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),t.\u0275\u0275text(6,"Example"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(7,"div",6),t.\u0275\u0275element(8,"div",7),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(9,"div",2)(10,"div",3)(11,"div",4)(12,"h4",5),t.\u0275\u0275text(13,"Markers, Circles and Polygons"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(14,"div",6),t.\u0275\u0275element(15,"div",8),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(16,"div",1)(17,"div",2)(18,"div",3)(19,"div",4)(20,"h4",5),t.\u0275\u0275text(21,"Working with Popups"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(22,"div",6),t.\u0275\u0275element(23,"div",8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(24,"div",2)(25,"div",3)(26,"div",4)(27,"h4",5),t.\u0275\u0275text(28,"Markers with Custom Icons"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(29,"div",6),t.\u0275\u0275element(30,"div",8),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275elementStart(31,"div",1)(32,"div",2)(33,"div",3)(34,"div",4)(35,"h4",5),t.\u0275\u0275text(36,"Interactive Choropleth Map"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(37,"div",6),t.\u0275\u0275element(38,"div",8),t.\u0275\u0275elementEnd()()(),t.\u0275\u0275elementStart(39,"div",2)(40,"div",3)(41,"div",4)(42,"h4",5),t.\u0275\u0275text(43,"Layer Groups and Layers Control"),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(44,"div",6),t.\u0275\u0275element(45,"div",8),t.\u0275\u0275elementEnd()()()()),2&e&&(t.\u0275\u0275property("breadcrumbItems",n.breadCrumbItems),t.\u0275\u0275advance(8),t.\u0275\u0275property("leafletOptions",n.options),t.\u0275\u0275advance(7),t.\u0275\u0275property("leafletOptions",n.markers)("leafletLayers",n.markersLayers),t.\u0275\u0275advance(8),t.\u0275\u0275property("leafletOptions",n.popups)("leafletLayers",n.popupLayers),t.\u0275\u0275advance(7),t.\u0275\u0275property("leafletOptions",n.custom)("leafletLayers",n.customLayers),t.\u0275\u0275advance(8),t.\u0275\u0275property("leafletOptions",n.choropleth)("leafletLayers",n.choroplethLayers),t.\u0275\u0275advance(7),t.\u0275\u0275property("leafletOptions",n.groups)("leafletLayers",n.GroupsLayers))},dependencies:[Ee.je,Ee.x,We.n]}),r})()}];let bt=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=t.\u0275\u0275defineInjector({imports:[Be.Bz.forChild(mt),Be.Bz]}),r})();var _t=f(44466);let Ot=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.\u0275\u0275defineNgModule({type:r}),r.\u0275inj=t.\u0275\u0275defineInjector({imports:[K.CommonModule,V.forRoot({apiKey:"AIzaSyAbvyBxmMbFhrzP9Z8moyYr6dCr-pzjhBE"}),Ee.UO,bt,_t.m]}),r})()}}]);